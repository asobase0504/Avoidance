//=============================================================================
//
// タイトルロゴ
// Author : Yuda Kaito
//
//=============================================================================
//-----------------------------------------------------------------------------
// include
//-----------------------------------------------------------------------------
#include "application.h"
#include "title_logo.h"
#include "utility.h"

//-----------------------------------------------------------------------------
// コンストラクタ
//-----------------------------------------------------------------------------
CTitleLogo::CTitleLogo(CTaskGroup::EPriority list) :
	CObject2d(list)
{
}

//-----------------------------------------------------------------------------
// デストラクタ
//-----------------------------------------------------------------------------
CTitleLogo::~CTitleLogo()
{
}

//-----------------------------------------------------------------------------
// 初期化
//-----------------------------------------------------------------------------
HRESULT CTitleLogo::Init()
{
	CObject2d::Init();
	D3DXVECTOR3 pos = CApplication::CENTER_POS;
	SetPos(pos);
	SetTexture("TITLE_LOGO");
	m_count = 0;
	m_rateSizeX = 0.01f;
	m_rateSizeY = 0.01f;
	SetColorAlpha(0.9f);

	return S_OK;
}

//-----------------------------------------------------------------------------
// 終了
//-----------------------------------------------------------------------------
void CTitleLogo::Uninit()
{
}

//-----------------------------------------------------------------------------
// 出現中更新
//-----------------------------------------------------------------------------
void CTitleLogo::PopUpdate()
{
	if (m_count < 45)
	{
		m_count++;
		return;
	}

	m_rateSizeX = ease::OutSine(m_rateSizeX / 0.25f) * 0.25f;

	if (m_rateSizeY < 0.25f)
	{
		m_rateSizeY += ease::OutSine(0.075f) * 0.025f;
	}

	SetSize(D3DXVECTOR3(1376 * m_rateSizeX, 256 * m_rateSizeY, 0.0f));

	if (m_rateSizeY <= 0.25f && m_rateSizeY >= 0.25f)
	{
		m_updateStatus = EUpdateStatus::NORMAL;
	}

	CObject2d::NormalUpdate();
}

//-----------------------------------------------------------------------------
// 通常中更新
//-----------------------------------------------------------------------------
void CTitleLogo::NormalUpdate()
{
	CObject2d::NormalUpdate();
}

//-----------------------------------------------------------------------------
// 終了中更新
//-----------------------------------------------------------------------------
void CTitleLogo::EndUpdate()
{
	Release();
}

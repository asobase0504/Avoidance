//=============================================================================
//
// マウスカーソルの上に貼る2DObject
// Author : Yuda Kaito
//
//=============================================================================
//-----------------------------------------------------------------------------
// include
//-----------------------------------------------------------------------------
#include "mouse_effect.h"
#include "utility.h"

//-----------------------------------------------------------------------------
// コンストラクタ
//-----------------------------------------------------------------------------
CMouseEffect::CMouseEffect(CTaskGroup::EPriority list) :
	CObject2d(list)
{
}

//-----------------------------------------------------------------------------
// デストラクタ
//-----------------------------------------------------------------------------
CMouseEffect::~CMouseEffect()
{
}

//-----------------------------------------------------------------------------
// 初期化
//-----------------------------------------------------------------------------
HRESULT CMouseEffect::Init()
{
	CObject2d::Init();
	SetTexture("GIZAGIZA");
	m_life = 10;
	return S_OK;
}

//-----------------------------------------------------------------------------
// 終了
//-----------------------------------------------------------------------------
void CMouseEffect::Uninit()
{
}

//-----------------------------------------------------------------------------
// 通常中更新
//-----------------------------------------------------------------------------
void CMouseEffect::NormalUpdate()
{
	m_life--;

	float scale = ease::OutSine((float)m_life / 10.0f) * 8.0f;

	SetSize(D3DXVECTOR3(scale, scale, 0.0f));

	SetColorAlpha(ease::OutSine((float)m_life / 10.0f));

	if (m_life <= 0)
	{
		SetUpdateStatus(CObject::EUpdateStatus::END);
	}

	CObject2d::NormalUpdate();
}

//-----------------------------------------------------------------------------
// 生成
//-----------------------------------------------------------------------------
CMouseEffect* CMouseEffect::Create()
{
	CMouseEffect* object = new CMouseEffect;

	if (object != nullptr)
	{
		object->Init();
	}

	return object;
}
